<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> İz Sürme Testi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .node {
            position: absolute;
            width: 65px; /* Slightly wider for longer text */
            height: 65px; /* Slightly taller */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.2s, border-color 0.2s;
            text-align: center;
            font-size: 1rem; /* Adjust font size if needed */
            line-height: 1.1; /* Adjust line height */
            padding: 2px; /* Add padding for text */
            box-sizing: border-box; /* Include padding and border in element's total width and height */
        }

        #test-area {
            position: relative;
            width: 100%;
            height: 80vh; /* Increased height slightly */
            border: 2px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
            margin: 1rem 0;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }

        .node-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .error-shake {
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        .highlight-correct {
             border-color: #f59e0b !important; /* Amber-500 for highlight, use !important to override other borders */
             box-shadow: 0 0 8px #f59e0b;
        }

        /* Utility class */
        .hidden {
           display: none;
        }

	.return-home-button {
            position: fixed; /* Keep the button in the same place on the screen */
            top: 1rem; /* 16px from the top */
            left: 1rem; /* 16px from the left */
            width: 48px; /* Set width */
            height: 48px; /* Set height */
            border-radius: 50%; /* Make it circular */
            background-color: #2563eb; /* Blue background color */
            color: white; /* White text/emoji color */
            display: flex; /* Use flexbox to center content */
            align-items: center; /* Vertically center content */
            justify-content: center; /* Horizontally center content */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Add a shadow */
            z-index: 50; /* Ensure it stays on top of other elements */
            text-decoration: none; /* Remove underline from link */
            font-size: 1.5rem; /* Adjust emoji size */
            transition: background-color 0.2s ease-in-out; /* Smooth transition for hover effect */
        }

        /* Hover effect for the button */
        .return-home-button:hover {
            background-color: #1d4ed8; /* Darker blue on hover */
        }
	    
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
	<a href="https://1001encore.github.io/experiments-homepage/home.html" class="return-home-button" aria-label="Anasayfaya Dön">
	↩
	</a>
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold text-center text-blue-800 mb-6">TMT İz Sürme Testi</h1>

        <div id="test-container" class="bg-white rounded-lg shadow-lg p-6 max-w-7xl mx-auto"> <div id="instructions" class="mb-6">
                <h2 class="text-xl font-semibold mb-2">Talimatlar:</h2>
                <p id="general-instruction" class="mb-4">Dairelere sırasıyla olabildiğince hızlı şekilde tıklayın.</p>
                <p id="training-instruction-part1" class="font-medium text-purple-700 hidden">Eğitim - 1. Bölüm: Aşağıdaki 5 daireye sırasıyla tıklayın: 1 → 2 → 3 → 4 → 5</p>
                 <p id="training-instruction-part2" class="font-medium text-purple-700 hidden">Eğitim - 2. Bölüm: Aşağıdaki 5 daireye sırasıyla tıklayın: 1 → A → 2 → B → 3</p>
                <p id="main-instruction-part1" class="font-medium text-blue-700 hidden">1. Bölüm: Bu sırayla tıklayın: 1 → 2 → 3 → 4 → ... → 24 → 25</p>
                <p id="main-instruction-part2" class="font-medium text-blue-700 hidden">2. Bölüm: Bu sırayla tıklayın: 1 → A → 2 → B → 3 → C → ... → L → 13</p>
            </div>

            <div class="flex justify-between items-center mb-4">
                <div id="timer" class="text-lg font-mono bg-gray-100 px-4 py-2 rounded">
                    Süre: <span id="time-display">00:00.0</span>
                </div>
                 <div id="accuracy-info" class="text-lg font-mono bg-gray-100 px-4 py-2 rounded hidden">
                     Doğruluk: <span id="accuracy-display">--</span>%
                 </div>
                <div id="progress" class="text-lg font-mono bg-gray-100 px-4 py-2 rounded">
                    İlerleme: <span id="progress-display">0</span>/<span id="total-nodes">0</span>
                </div>
            </div>

            <div id="test-area">
                <canvas id="connection-canvas"></canvas>
                <div id="node-container" class="node-container"></div>
            </div>

            <div class="flex justify-center mt-6">
                <button id="start-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition">
                    Testi Başlat
                </button>
                 <button id="start-part2-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition hidden ml-4">
                    2. Bölümü Başlat
                 </button>
                 <button id="next-training-btn" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition hidden ml-4">
                     Ana Teste Geç
                 </button>
                <button id="reset-btn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition hidden ml-4">
                    Sıfırla
                </button>
            </div>
        </div>

         <div id="results-screen" class="bg-white rounded-lg shadow-lg p-6 max-w-4xl mx-auto mt-8 hidden">
             <h2 class="text-2xl font-bold text-center text-green-700 mb-6">Test Bitti!</h2>
		 <h4 class="text-base mb-1" id="namesurname"></h4>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                 <div class="bg-gray-100 p-4 rounded-lg">
                      <h3 class="text-xl font-semibold mb-3 text-blue-800">1. Bölüm Sonuçları</h3>
                       <p class="text-base mb-1 text-purple-800">Eğitim Süresi: <span id="training-part1-time" class="font-mono font-semibold">--:--.-</span></p>
                       <p class="text-base mb-2 text-purple-800">Eğitim Doğruluk: <span id="training-part1-accuracy" class="font-mono font-semibold">--</span>% (<span id="training-part1-correct">0</span>/<span id="training-part1-total">0</span>)</p>
                      <p class="text-lg mb-2">Ana Test Süresi: <span id="part1-time" class="font-mono font-semibold">--:--.-</span></p>
                      <p class="text-lg">Ana Test Doğruluk: <span id="part1-accuracy" class="font-mono font-semibold">--</span>% (<span id="part1-correct">0</span>/<span id="part1-total">0</span>)</p>
                 </div>
                 <div class="bg-gray-100 p-4 rounded-lg">
                      <h3 class="text-xl font-semibold mb-3 text-blue-800">2. Bölüm Sonuçları</h3>
                       <p class="text-base mb-1 text-purple-800">Eğitim Süresi: <span id="training-part2-time" class="font-mono font-semibold">--:--.-</span></p>
                       <p class="text-base mb-2 text-purple-800">Eğitim Doğruluk: <span id="training-part2-accuracy" class="font-mono font-semibold">--</span>% (<span id="training-part2-correct">0</span>/<span id="training-part2-total">0</span>)</p>
                      <p class="text-lg mb-2">Ana Test Süresi: <span id="part2-time" class="font-mono font-semibold">--:--.-</span></p>
                      <p class="text-lg">Ana Test Doğruluk: <span id="part2-accuracy" class="font-mono font-semibold">--</span>% (<span id="part2-correct">0</span>/<span id="part2-total">0</span>)</p>
                    </div>
                </div>
                <div class="flex justify-center mt-8">
                    <button id="restart-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition">
                        Tekrar Uygula
                    </button>
                </div>
                <br><br><br>
                 <div class="bg-gray-100 p-4 rounded-lg">
                      <h3 class="text-xl font-semibold mb-3 text-blue-800">Genel Sonuçlar</h3>
                      <p class="text-base mb-1">Toplam Süre: <span id="total-time" class="font-mono font-semibold">--:--.-</span></p>
                      <p class="text-base mb-1">Ortalama Doğruluk: <span id="average-accuracy" class="font-mono font-semibold">--</span>%</p>
                      <p class="text-base mb-1">Eğitim Süre Farkı: <span id="training-time-difference" class="font-mono font-semibold">--:--.-</span></p>
                      <p class="text-base mb-1">Test Süre Farkı: <span id="test-time-difference" class="font-mono font-semibold">--:--.-</span></p>
                      <p class="text-base mb-1">Eğitim Doğruluk Farkı: <span id="training-accuracy-difference" class="font-mono font-semibold">--</span>%</p>
                      <p class="text-base mb-1">Test Doğruluk Farkı: <span id="test-accuracy-difference" class="font-mono font-semibold">--</span>%</p>
                 </div>
                
                <div class="flex justify-center mt-8">
                    <button id="download-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition">
                        Sonuçları İndir
                    </button>
                </div>
           </div>
    </div>

    <script>
	    const d={t:25,o:8,i:65,margin:15,l:{u:"bg-white border-2 border-blue-500 text-blue-800",m:"bg-green-100 border-2 border-green-500 text-green-800",error:"bg-red-100 border-2 border-red-500 text-red-800",p:"bg-gray-100 border-2 border-blue-500 text-blue-800 font-extrabold",h:"bg-white border-2 border-purple-500 text-purple-800",g:"bg-purple-100 border-2 border-purple-500 text-purple-800",T:"bg-red-100 border-2 border-red-500 text-red-800"},k:"1\n(başla)"};const A=["A","B","C","Ç","D","E","F","G","Ğ","H","I","İ","J","K","L"];const a={1:{x:62,y:72.2},2:{x:41,y:83.8},3:{x:72,y:83.8},4:{x:73.3,y:38},5:{x:46,y:49},6:{x:59,y:59.3},7:{x:41.3,y:65.8},8:{x:18.6,y:82.5},9:{x:24,y:91.6},10:{x:34.6,y:82.5},11:{x:46,y:94.2},12:{x:7.6,y:95.4},13:{x:14,y:52.9},14:{x:6,y:61.9},15:{x:6,y:12.2},16:{x:15.6,y:29},17:{x:33.3,y:6.4},18:{x:39.6,y:29},19:{x:63.6,y:21.9},20:{x:46,y:20},21:{x:52.3,y:5.1},22:{x:91,y:15.4},23:{x:93.3,y:90.3},24:{x:83,y:51.6},25:{x:79.3,y:94.1}};const o={1:{x:54.6,y:61.6},2:{x:63.8,y:24.6},3:{x:85.3,y:48},4:{x:72.3,y:57.7},5:{x:78.8,y:88.9},6:{x:21.5,y:80.5},7:{x:10.3,y:42.8},8:{x:39.2,y:41.5}};const l={1:{x:54.7,y:61.76},C:{x:63.2,y:25.2},2:{x:85.8,y:47.8},$:{x:72.6,y:57.3},3:{x:79.2,y:88.2},M:{x:21.6,y:80.1},4:{x:10.3,y:44.1},S:{x:39.1,y:38.2}};const u={1:{x:50.6,y:42.6},C:{x:70.3,y:74.6},2:{x:36.6,y:70.6},$:{x:46.2,y:18.6},3:{x:57.3,y:30.6},M:{x:70.6,y:52},4:{x:70.6,y:14.1},S:{x:85.2,y:16},5:{x:85,y:58.6},v:{x:78.6,y:82.6},6:{x:54.3,y:80},E:{x:30,y:89.3},7:{x:23.6,y:44.6},A:{x:15.3,y:57.3},8:{x:12,y:5.8},D:{x:26.6,y:26.6},9:{x:26.6,y:12.6},P:{x:62.6,y:4.8},10:{x:93.3,y:5.3},B:{x:88.3,y:68},11:{x:93.3,y:92},N:{x:7.3,y:94.6},12:{x:5.6,y:48.8},I:{x:17.3,y:74.6}};let p={F:[],L:1,R:false,G:0,O:[],U:[],startTime:null,J:null,q:{time:"00:00.0",H:0,V:0},j:{time:"00:00.0",H:0,V:0},K:{time:"00:00.0",H:0,V:0},Y:{time:"00:00.0",H:0,V:0}};const f=document.getElementById("test-container");const h=document.getElementById("results-screen");const D=document.getElementById("namesurname");const n=document.getElementById("test-area");const m=document.getElementById("node-container");const t=document.getElementById("connection-canvas");const c=t.getContext("2d");const i=document.getElementById("start-btn");const r=document.getElementById("start-part2-btn");const s=document.getElementById("next-training-btn");const y=document.getElementById("reset-btn");const x=document.getElementById("restart-btn");const g=document.getElementById("time-display");const e=document.getElementById("progress-display");const T=document.getElementById("total-nodes");const k=document.getElementById("general-instruction");const C=document.getElementById("training-instruction-part1");const b=document.getElementById("training-instruction-part2");const $=document.getElementById("main-instruction-part1");const M=document.getElementById("main-instruction-part2");const S=document.getElementById("accuracy-info");const v=document.getElementById("accuracy-display");const P=document.getElementById("training-part1-time");const B=document.getElementById("training-part1-accuracy");const N=document.getElementById("training-part1-correct");const E=document.getElementById("training-part1-total");const I=document.getElementById("part1-time");const w=document.getElementById("part1-accuracy");const z=document.getElementById("part1-correct");const F=document.getElementById("part1-total");const L=document.getElementById("training-part2-time");const R=document.getElementById("training-part2-accuracy");const G=document.getElementById("training-part2-correct");const O=document.getElementById("training-part2-total");const U=document.getElementById("part2-time");const J=document.getElementById("part2-accuracy");const q=document.getElementById("part2-correct");const H=document.getElementById("part2-total");function init(){resizeCanvas();setupEventListeners();resetTest()}function setupEventListeners(){i.addEventListener("click",()=>startTraining(1));r.addEventListener("click",()=>startTraining(2));s.addEventListener("click",startMainTest);y.addEventListener("click",resetTest);x.addEventListener("click",resetTest);window.addEventListener("resize",handleResize)}function handleResize(){resizeCanvas()}function resizeCanvas(){t.width=n.clientWidth;t.height=n.clientHeight;updateNodePositions();if(p.U.length>0){drawConnections()}}function updateNodePositions(){const c=n.clientWidth;const i=n.clientHeight;const r=d.i/2;let s;if(p.R){s=p.L===1?o:l}else{s=p.L===1?a:u}p.F.forEach(t=>{const e=s[t.value];if(e){const n=e.x/100*c-r;const o=e.y/100*i-r;t.element.style.left=`${n}px`;t.element.style.top=`${o}px`;t.x=n+r;t.y=o+r}else{console.warn(`Position not found for node value ${t.value} during resize.`)}})}function resetUI(){g.textContent="00:00.0";e.textContent="0";T.textContent=d.t;k.classList.remove("hidden");C.classList.add("hidden");b.classList.add("hidden");$.classList.add("hidden");M.classList.add("hidden");i.classList.remove("hidden");r.classList.add("hidden");s.classList.add("hidden");y.classList.add("hidden");x.classList.add("hidden");S.classList.add("hidden");v.textContent="--";f.classList.remove("hidden");h.classList.add("hidden");m.innerHTML="";p.F=[];clearConnections()}function startTraining(t){resetUI();p.R=true;p.L=t;p.G=0;p.U=[];let e;let n;if(t===1){e=[1,2,3,4,5,6,7,8];n=o;C.classList.remove("hidden");p.K={time:"00:00.0",H:0,V:0}}else{e=[1,"A",2,"B",3,"C",4,"Ç"];n=l;b.classList.remove("hidden");p.Y={time:"00:00.0",H:0,V:0}}p.O=e;generateNodes(p.O,n);k.classList.add("hidden");updateProgress();i.classList.add("hidden");y.classList.remove("hidden");S.classList.remove("hidden");startTimer()}function startMainTest(){stopTimer();if(p.L===1){p.K.time=g.textContent;const n=p.K.V>0?Math.round(p.K.H/p.K.V*100):0;p.K.accuracy=n}else{p.Y.time=g.textContent;const n=p.Y.V>0?Math.round(p.Y.H/p.Y.V*100):0;p.Y.accuracy=n}m.innerHTML="";p.F=[];clearConnections();p.R=false;p.G=0;p.U=[];let e;let t;if(p.L===1){e=Array.from({length:d.t},(t,e)=>e+1);t=a;$.classList.remove("hidden");C.classList.add("hidden");p.q={time:"00:00.0",H:0,V:0}}else{e=[];const o=12;const c=12;for(let t=0;t<d.t;t++){if(t%2===0){const i=Math.floor(t/2)+1;if(i<=o){e.push(i)}}else{const r=Math.floor(t/2);if(r<c){e.push(A[r])}}}e=e.slice(0,d.t);t=u;M.classList.remove("hidden");b.classList.add("hidden");p.j={time:"00:00.0",H:0,V:0}}p.O=e;generateNodes(p.O,t);updateProgress();s.classList.add("hidden");y.classList.remove("hidden");updateAccuracyDisplay();startTimer()}function resetTest(){stopTimer();resetUI();p={F:[],L:1,R:false,G:0,O:[],U:[],startTime:null,J:null,q:{time:"00:00.0",H:0,V:0},j:{time:"00:00.0",H:0,V:0},K:{time:"00:00.0",H:0,V:0},Y:{time:"00:00.0",H:0,V:0}};i.classList.remove("hidden")}function generateNodes(t,i){m.innerHTML="";p.F=[];const r=n.clientWidth;const s=n.clientHeight;const e=d.i;const a=e/2;t.forEach(t=>{const e=i[t];if(!e){console.error(`Fixed position not found for value: ${t} in the provided map.`);return}const n=e.x/100*r-a;const o=e.y/100*s-a;const c=document.createElement("div");c.className=`node ${p.R?d.l.h:d.l.u}`;c.style.left=`${n}px`;c.style.top=`${o}px`;c.dataset.value=t;c.textContent=t;c.addEventListener("click",handleNodeClick);m.appendChild(c);p.F.push({element:c,value:t,x:n+a,y:o+a})});updateNodeLabelsAndValues();T.textContent=p.F.length}function updateNodeLabelsAndValues(){const c=p.O;const i=c[c.length-1];p.F.forEach(t=>{const e=t.value;let n=e;let o=`node ${p.R?d.l.h:d.l.u}`;if(e==c[0]){n=`${e}\n(başla)`;o=`node ${d.l.p}`}else if(e==i){n=`${e}\n(bitir)`;o=`node ${d.l.p}`}else{o=`node ${p.R?d.l.h:d.l.u}`}t.element.className=o;t.element.textContent=n})}function handleNodeClick(t){if(p.startTime===null)return;const e=t.target;const n=p.F.find(t=>t.element===e);if(!n||n.value===null){console.warn("Clicked on an unassigned node.");return}const o=n.value;const c=p.O[p.G];if(p.R){if(p.L===1)p.K.V++;else p.Y.V++}else{if(p.L===1)p.q.V++;else p.j.V++}updateAccuracyDisplay();if(o==c){handleCorrectTap(n)}else{handleIncorrectTap(e)}}function updateAccuracyDisplay(){let t,e;if(p.R){if(p.L===1){t=p.K.H;e=p.K.V}else{t=p.Y.H;e=p.Y.V}}else{if(p.L===1){t=p.q.H;e=p.q.V}else{t=p.j.H;e=p.j.V}}const n=e>0?Math.round(t/e*100):0;v.textContent=n;S.classList.remove("hidden")}function handleCorrectTap(t){if(p.R){if(p.L===1)p.K.H++;else p.Y.H++}else{if(p.L===1)p.q.H++;else p.j.H++}updateAccuracyDisplay();p.U.push(t);const e=t.value==p.O[0];const n=t.value==p.O[p.O.length-1];if(!e&&!n){t.element.className=`node ${p.R?d.l.g:d.l.m}`}else if(n&&p.G===p.O.length-1){t.element.className=`node ${p.R?d.l.g:d.l.m}`}if(p.U.length>1){drawConnections()}p.G++;updateProgress();if(p.G>=p.O.length){if(p.R){handleTrainingComplete()}else{handleMainTestPartComplete()}}}function handleIncorrectTap(t){const e=t.className;const n=e.includes(d.l.p.split(" ")[0]);t.classList.add("error-shake");if(!n){t.className=`node ${p.R?d.l.T:d.l.error}`}if(p.R){const o=p.O[p.G];const c=p.F.find(t=>t.value==o);if(c){c.element.classList.add("highlight-correct");setTimeout(()=>{c.element.classList.remove("highlight-correct");if(!n){t.className=e}},1e3)}else{if(!n){setTimeout(()=>{t.className=e},500)}}}else{if(!n){setTimeout(()=>{t.className=e},500)}}setTimeout(()=>{t.classList.remove("error-shake")},500)}function handleTrainingComplete(){stopTimer();const t=g.textContent;if(p.L===1){p.K.time=t}else{p.Y.time=t}s.classList.remove("hidden");y.classList.add("hidden");S.classList.add("hidden");m.innerHTML="";p.F=[];clearConnections();if(p.L===1){C.textContent="Eğitim Tamamlandı! Ana Teste Geçmek İçin 'Ana Teste Geç' Butonuna Tıklayın."}else{b.textContent="Eğitim Tamamlandı! Ana Teste Geçmek İçin 'Ana Teste Geç' Butonuna Tıklayın."}}function handleMainTestPartComplete(){const t=g.textContent;stopTimer();if(p.L===1){p.q.time=t;const e=p.q.V>0?Math.round(p.q.H/p.q.V*100):0;p.q.accuracy=e;S.classList.add("hidden");if(p.L===1){r.classList.remove("hidden")}y.classList.add("hidden")}else{p.j.time=t;const n=p.j.V>0?Math.round(p.j.H/p.j.V*100):0;p.j.accuracy=n;S.classList.add("hidden");y.classList.add("hidden");displayResults()}}function displayResults(){const t=sessionStorage.getItem("confirmationFormData");const e=JSON.parse(t);const n=e["userName"];f.classList.add("hidden");h.classList.remove("hidden");x.classList.remove("hidden");D.textContent="(Ad-Soyad: "+n+")";P.textContent=p.K.time;B.textContent=p.K.accuracy;N.textContent=p.K.H;E.textContent=p.K.V;I.textContent=p.q.time;w.textContent=p.q.accuracy;z.textContent=p.q.H;F.textContent=p.q.V;L.textContent=p.Y.time;R.textContent=p.Y.accuracy;G.textContent=p.Y.H;O.textContent=p.Y.V;U.textContent=p.j.time;J.textContent=p.j.accuracy;q.textContent=p.j.H;H.textContent=p.j.V;const o=timeToMs(p.K.time)+timeToMs(p.Y.time)+timeToMs(p.q.time)+timeToMs(p.j.time);const c=msToTime(o);const i=p.K.H+p.Y.H+p.q.H+p.j.H;const r=p.K.V+p.Y.V+p.q.V+p.j.V;const s=r>0?Math.round(i/r*100):0;const a=timeToMs(p.Y.time)-timeToMs(p.K.time);const d=msToTime(a);const l=timeToMs(p.j.time)-timeToMs(p.q.time);const u=msToTime(l);const m=p.K.accuracy!=0?Math.round((p.Y.accuracy-p.K.accuracy)/p.K.accuracy*100):0;const y=p.q.accuracy!=0?Math.round((p.j.accuracy-p.q.accuracy)/p.q.accuracy*100):0;document.getElementById("total-time").textContent=c;document.getElementById("average-accuracy").textContent=s;document.getElementById("training-time-difference").textContent=d;document.getElementById("test-time-difference").textContent=u;document.getElementById("training-accuracy-difference").textContent=m;document.getElementById("test-accuracy-difference").textContent=y;function timeToMs(t){const[e,n]=t.split(":");const[o,c]=n.split(".");return(parseInt(e)*60+parseInt(o))*1e3+parseInt(c)*100}function msToTime(t){const e=Math.floor(t/(1e3*60)).toString().padStart(2,"0");const n=Math.floor(t/1e3%60).toString().padStart(2,"0");const o=Math.floor(t%1e3/100).toString();return`${e}:${n}.${o}`}}function drawConnections(){c.clearRect(0,0,t.width,t.height);c.strokeStyle="#10b981";c.lineWidth=3;c.lineCap="round";for(let t=1;t<p.U.length;t++){const e=p.U[t-1];const n=p.U[t];c.beginPath();c.moveTo(e.x,e.y);c.lineTo(n.x,n.y);c.stroke()}}function clearConnections(){c.clearRect(0,0,t.width,t.height)}function updateProgress(){e.textContent=p.G;T.textContent=p.O.length}function startTimer(){stopTimer();p.startTime=Date.now();p.J=setInterval(updateTimer,100);updateTimer()}function stopTimer(){clearInterval(p.J);p.J=null;p.startTime=null}function updateTimer(){if(!p.startTime){g.textContent="00:00.0";return}const t=Date.now()-p.startTime;const e=Math.floor(t/1e3);const n=Math.floor(e/60).toString().padStart(2,"0");const o=(e%60).toString().padStart(2,"0");const c=Math.floor(t%1e3/100).toString();g.textContent=`${n}:${o}.${c}`}window.addEventListener("DOMContentLoaded",init);function downloadResults(){const t=sessionStorage.getItem("confirmationFormData");const e=JSON.parse(t);const n=e["userName"];const o=e["telNumber"];const c=e["birthDate"];const i=e["question1"];const r=e["question1Details"];const s=e["question2"];const a=e["sex"];const d=document.getElementById("part1-time").textContent;const l=document.getElementById("part1-accuracy").textContent;const u=document.getElementById("part2-time").textContent;const m=document.getElementById("part2-accuracy").textContent;const y=document.getElementById("training-part1-time").textContent;const p=document.getElementById("training-part1-accuracy").textContent;const f=document.getElementById("training-part2-time").textContent;const h=document.getElementById("training-part2-accuracy").textContent;const x=document.getElementById("total-time").textContent;const g=document.getElementById("average-accuracy").textContent;const T=document.getElementById("training-time-difference").textContent;const k=document.getElementById("test-time-difference").textContent;const C=document.getElementById("training-accuracy-difference").textContent;const b=document.getElementById("test-accuracy-difference").textContent;let $=text+=`Ad-Soyad: ${n}\n`;$+=`Telefon Numarası: ${o}\n\n`;$+=`Doğum Tarihi: ${c}\n`;$+=`Cinsiyeti: ${a}\n`;$+=`Son iki ayda herhangi bir psikiyatrik veya psikolojik tedavi görmüş mü?: ${i}\n`;$+=`Yukarıdaki soruya cevabınız “Evet” ise bu tedaviler gereği herhangi bir ilaç kullandınız mı yazınız: ${r}\n`;$+=`Renk körlüğü ya da görme bozukluğu var mı?: ${s}\n\n`;$+=`1. Bölüm Eğitim Süresi: ${y}\n`;$+=`1. Bölüm Eğitim Doğruluğu: ${p}\n`;$+=`1. Bölüm Süresi: ${d}\n`;$+=`1. Bölüm Doğruluğu: ${l}\n\n`;$+=`2. Bölüm Eğitim Süresi: ${f}\n`;$+=`2. Bölüm Eğitim Doğruluğu: ${h}\n`;$+=`2. Bölüm Süresi: ${u}\n`;$+=`2. Bölüm Doğruluğu: ${m}\n\n`;$+=`Toplam Süre: ${x}\n`;$+=`Ortalama Doğruluk: ${g}\n`;$+=`Eğitimler Arası Süre Farkı: ${T}\n`;$+=`Bölümler Arası Süre Farkı: ${k}\n`;$+=`Bölümler Arası Doğruluk Farkı: ${C}\n`;$+=`Eğitimler Arası Doğruluk Farkı: ${b}\n`;const M="tmt_sonuçlar.txt";const S=document.createElement("a");S.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent($));S.setAttribute("download",M);S.style.display="none";document.body.appendChild(S);S.click();document.body.removeChild(S)}document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("download-btn");t.addEventListener("click",downloadResults)});
    </script>
</body>
</html>
